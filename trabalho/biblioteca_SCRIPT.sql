-- MySQL Script generated by MySQL Workbench
-- Tue Apr 22 21:02:01 2025
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema biblioteca
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema biblioteca
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `biblioteca` DEFAULT CHARACTER SET utf8mb3 ;
USE `biblioteca` ;

-- -----------------------------------------------------
-- Table `biblioteca`.`autor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biblioteca`.`autor` (
  `id_autor` INT NOT NULL,
  `autor_nome` VARCHAR(45) NOT NULL,
  `nacionalidade` VARCHAR(45) NOT NULL,
  `data_nascimento` DATE NOT NULL,
  PRIMARY KEY (`id_autor`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `biblioteca`.`usuario`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biblioteca`.`usuario` (
  `id_usuario` INT NOT NULL,
  `usuario_nome` VARCHAR(45) NOT NULL,
  `data_cadastro` DATE NOT NULL,
  `cpf` VARCHAR(14) NULL,
  PRIMARY KEY (`id_usuario`),
  UNIQUE INDEX `cpf_UNIQUE` (`cpf` ASC) VISIBLE)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `biblioteca`.`reservas`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biblioteca`.`reservas` (
  `id_reservas` INT NOT NULL,
  `data_reserva` DATE NOT NULL,
  `status_reserva` TINYINT NOT NULL,
  PRIMARY KEY (`id_reservas`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `biblioteca`.`livro`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biblioteca`.`livro` (
  `id_livro` INT NOT NULL,
  `ano_publicacao` DATE NOT NULL,
  `genero` VARCHAR(45) NOT NULL,
  `descricao` TEXT NULL DEFAULT NULL,
  `disponibilidade` TINYINT NOT NULL,
  `autor_id_autor` INT NOT NULL,
  PRIMARY KEY (`id_livro`),
  INDEX `fk_livro_autor1_idx` (`autor_id_autor` ASC) VISIBLE,
  CONSTRAINT `fk_livro_autor1`
    FOREIGN KEY (`autor_id_autor`)
    REFERENCES `biblioteca`.`autor` (`id_autor`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


-- -----------------------------------------------------
-- Table `biblioteca`.`emprestimo`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `biblioteca`.`emprestimo` (
  `id_emprestimo` INT NOT NULL,
  `data_emprestimo` DATE NOT NULL,
  `data_dev_prev` DATE NULL,
  `data_dev_real` DATE,
  `status_emprestimo` TINYINT NOT NULL,
  `usuario_id_usuario` INT NOT NULL,
  `reservas_id_reservas` INT NOT NULL,
  `livro_id_livro` INT NOT NULL,
  PRIMARY KEY (`id_emprestimo`),
  INDEX `fk_emprestimo_usuario_idx` (`usuario_id_usuario` ASC) VISIBLE,
  INDEX `fk_emprestimo_reservas1_idx` (`reservas_id_reservas` ASC) VISIBLE,
  INDEX `fk_emprestimo_livro1_idx` (`livro_id_livro` ASC) VISIBLE,
  CONSTRAINT `fk_emprestimo_usuario`
    FOREIGN KEY (`usuario_id_usuario`)
    REFERENCES `biblioteca`.`usuario` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_emprestimo_reservas1`
    FOREIGN KEY (`reservas_id_reservas`)
    REFERENCES `biblioteca`.`reservas` (`id_reservas`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_emprestimo_livro1`
    FOREIGN KEY (`livro_id_livro`)
    REFERENCES `biblioteca`.`livro` (`id_livro`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8mb3;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

INSERT INTO autor (id_autor, autor_nome, nacionalidade, data_nascimento) VALUES
(1, 'J.K. Rowling', 'Britânica', '1965-07-31'),
(2, 'George R.R. Martin', 'Americana', '1948-09-20'),
(3, 'J.R.R. Tolkien', 'Britânico', '1892-01-03'),
(4, 'Isaac Asimov', 'Americana', '1920-01-02'),
(5, 'Agatha Christie', 'Britânica', '1890-09-15'),
(6, 'Stephen King', 'Americana', '1947-09-21'),
(7, 'Jane Austen', 'Britânica', '1775-12-16'),
(8, 'Leo Tolstoy', 'Russa', '1828-09-09'),
(9, 'Mark Twain', 'Americana', '1835-11-30'),
(10, 'F. Scott Fitzgerald', 'Americana', '1896-09-24'),
(11, 'Haruki Murakami', 'Japonesa', '1949-01-12'),
(12, 'Charlotte Brontë', 'Britânica', '1816-04-21'),
(13, 'Emily Dickinson', 'Americana', '1830-12-10'),
(14, 'Charles Dickens', 'Britânico', '1812-02-07'),
(15, 'Homer', 'Grego', '850-01-01'),
(16, 'Gabriel García Márquez', 'Colombiana', '1927-03-06'),
(17, 'Marcel Proust', 'Francesa', '1871-07-10'),
(18, 'Ernest Hemingway', 'Americana', '1899-07-21'),
(19, 'Virginia Woolf', 'Britânica', '1882-01-25'),
(20, 'Franz Kafka', 'Alemã', '1883-07-03'),
(21, 'William Shakespeare', 'Britânico', '1564-04-23'),
(22, 'Dostoevsky', 'Russo', '1821-11-11'),
(23, 'Ray Bradbury', 'Americana', '1920-08-22'),
(24, 'Albert Camus', 'Francesa', '1913-11-07'),
(25, 'H.G. Wells', 'Britânico', '1866-09-21'),
(26, 'Oscar Wilde', 'Irlandês', '1854-10-16'),
(27, 'Thomas Hardy', 'Britânico', '1840-06-02'),
(28, 'Philip K. Dick', 'Americana', '1928-12-16'),
(29, 'Mikhail Bulgakov', 'Russo', '1891-05-15'),
(30, 'C.S. Lewis', 'Britânico', '1898-11-29'),
(31, 'Douglas Adams', 'Britânico', '1952-03-11'),
(32, 'Kurt Vonnegut', 'Americana', '1922-11-11'),
(33, 'Sylvia Plath', 'Americana', '1932-10-27'),
(34, 'Margaret Atwood', 'Canadense', '1939-11-18'),
(35, 'Katherine Mansfield', 'Neozelandesa', '1888-10-14'),
(36, 'Bram Stoker', 'Irlandês', '1847-11-08'),
(37, 'John Steinbeck', 'Americana', '1902-02-27'),
(38, 'Toni Morrison', 'Americana', '1931-02-18'),
(39, 'Emily Brontë', 'Britânica', '1818-07-30'),
(40, 'Daphne du Maurier', 'Britânica', '1907-05-13');

INSERT INTO usuario (id_usuario, usuario_nome, data_cadastro, cpf) VALUES
(1, 'André de Alencar Lerbach', '2025-01-10', '123.456.789-00'),
(2, 'Dário Nevelton Lerbach', '2025-02-14', '234.567.890-01'),
(3, 'Wallkeyla Almeida de Alencar Lerbach', '2025-03-20', '345.678.901-02'),
(4, 'Ana Souza', '2025-04-25', '456.789.012-03'),
(5, 'Felipe Costa', '2025-05-30', '567.890.123-04'),
(6, 'Patrícia Alves', '2025-06-05', '678.901.234-05'),
(7, 'Bruna Lima', '2025-07-12', '789.012.345-06'),
(8, 'Lucas Santos', '2025-08-18', '890.123.456-07'),
(9, 'Fernanda Rocha', '2025-09-25', '901.234.567-08'),
(10, 'Roberta Martins', '2025-10-30', '012.345.678-09'),
(11, 'Rodrigo Pereira', '2025-11-05', '123.456.789-10'),
(12, 'Camila Lima', '2025-12-01', '234.567.890-11'),
(13, 'Raul Oliveira', '2025-01-15', '345.678.901-12'),
(14, 'Marina Gomes', '2025-02-22', '456.789.012-13'),
(15, 'Eduardo Silva', '2025-03-10', '567.890.123-14'),
(16, 'Juliana Costa', '2025-04-17', '678.901.234-15'),
(17, 'Ricardo Alves', '2025-05-22', '789.012.345-16'),
(18, 'Gabriel Souza', '2025-06-26', '890.123.456-17'),
(19, 'Marcelo Lima', '2025-07-30', '901.234.567-18'),
(20, 'Tais Martins', '2025-08-05', '012.345.678-19'),
(21, 'Vânia Pereira', '2025-09-10', '123.456.789-20'),
(22, 'Sérgio Rocha', '2025-10-15', '234.567.890-21'),
(23, 'Lorena Alves', '2025-11-20', '345.678.901-22'),
(24, 'Juliano Costa', '2025-12-25', '456.789.012-23'),
(25, 'Camila Santos', '2025-01-25', '567.890.123-24'),
(26, 'Bruna Oliveira', '2025-02-28', '678.901.234-25'),
(27, 'André Gomes', '2025-03-15', '789.012.345-26'),
(28, 'Patricia Souza', '2025-04-10', '890.123.456-27'),
(29, 'Luciana Silva', '2025-05-05', '901.234.567-28'),
(30, 'Renato Rocha', '2025-06-15', '012.345.678-29'),
(31, 'Viviane Alves', '2025-07-10', '123.456.789-30'),
(32, 'Fernando Lima', '2025-08-25', '234.567.890-31'),
(33, 'José Santos', '2025-09-02', '345.678.901-32'),
(34, 'Marta Martins', '2025-10-10', '456.789.012-33'),
(35, 'Samantha Oliveira', '2025-11-12', '567.890.123-34'),
(36, 'Aline Pereira', '2025-12-18', '678.901.234-35'),
(37, 'Carlos Almeida', '2025-01-05', '789.012.345-36'),
(38, 'Gustavo Lima', '2025-02-15', '890.123.456-37'),
(39, 'Daniela Rocha', '2025-03-22', '901.234.567-38'),
(40, 'Fábio Souza', '2025-04-12', '012.345.678-39');

INSERT INTO reservas (id_reservas, data_reserva, status_reserva) VALUES
(1, '2025-01-05', 1),
(2, '2025-02-10', 0),
(3, '2025-03-15', 1),
(4, '2025-04-20', 1),
(5, '2025-05-25', 0),
(6, '2025-06-05', 1),
(7, '2025-07-10', 0),
(8, '2025-08-15', 1),
(9, '2025-09-20', 1),
(10, '2025-10-01', 0),
(11, '2025-11-05', 1),
(12, '2025-12-10', 0),
(13, '2025-01-12', 1),
(14, '2025-02-18', 1),
(15, '2025-03-22', 0),
(16, '2025-04-25', 1),
(17, '2025-05-30', 0),
(18, '2025-06-10', 1),
(19, '2025-07-15', 0),
(20, '2025-08-20', 1),
(21, '2025-09-30', 1),
(22, '2025-10-05', 0),
(23, '2025-11-12', 1),
(24, '2025-12-15', 0),
(25, '2025-01-18', 1),
(26, '2025-02-22', 0),
(27, '2025-03-28', 1),
(28, '2025-04-02', 0),
(29, '2025-05-08', 1),
(30, '2025-06-12', 0),
(31, '2025-07-17', 1),
(32, '2025-08-22', 0),
(33, '2025-09-10', 1),
(34, '2025-10-15', 0),
(35, '2025-11-22', 1),
(36, '2025-12-05', 0),
(37, '2025-01-25', 1),
(38, '2025-02-28', 0),
(39, '2025-03-11', 1),
(40, '2025-04-13', 0);

INSERT INTO livro (id_livro, ano_publicacao, genero, descricao, disponibilidade, autor_id_autor) VALUES
(1, '2000-05-15', 'Ficção Científica', 'Um futuro distópico onde a tecnologia é controlada.', 1, 1),
(2, '1996-08-20', 'Fantasia', 'A história de uma guerra medieval com dragões e magia.', 1, 2),
(3, '1954-07-29', 'Fantasia', 'A jornada épica de um hobbit para destruir um anel maligno.', 1, 3),
(4, '1951-04-23', 'Ficção Científica', 'Um robô começa a questionar sua própria humanidade.', 0, 4),
(5, '1934-01-01', 'Mistério', 'O assassinato de uma jovem mulher em uma ilha deserta.', 1, 5),
(6, '1974-06-17', 'Terror', 'Uma criatura maligna assombra uma cidadezinha no Maine.', 1, 6),
(7, '1813-01-28', 'Romance', 'A história de amor entre Elizabeth Bennet e Mr. Darcy.', 0, 7),
(8, '1869-01-01', 'Drama', 'A luta entre os russos e os franceses na guerra napoleônica.', 1, 8),
(9, '1884-12-10', 'Aventura', 'A história de dois meninos que fogem para a vida no rio Mississippi.', 1, 9),
(10, '1925-04-10', 'Drama', 'A decadência dos sonhos americanos durante os anos 1920.', 1, 10),
(11, '1987-04-12', 'Romance', 'O amor e os conflitos existenciais de um homem solitário.', 1, 11),
(12, '1847-10-16', 'Romance', 'A vida difícil de uma mulher em busca de sua independência.', 0, 12),
(13, '1860-02-01', 'Poesia', 'A vida interior de uma mulher que lida com a solidão e o sofrimento.', 1, 13),
(14, '1859-01-01', 'Drama', 'A vida de um homem nascido em uma sociedade dividida.', 0, 14),
(15, '800-01-01', 'Épico', 'A guerra entre gregos e troianos.', 1, 15),
(16, '1967-06-06', 'Romance', 'A história de um amor impossível em um mundo em guerra.', 1, 16),
(17, '1913-11-07', 'Filosofia', 'Reflexões sobre a vida e a condição humana.', 1, 17),
(18, '1952-05-01', 'Aventura', 'A jornada de um homem para encontrar sua própria verdade.', 1, 18),
(19, '1922-02-28', 'Drama', 'Uma análise da vida em uma sociedade pós-guerra.', 1, 19),
(20, '1914-06-01', 'Ficção Científica', 'Uma história sobre a luta contra um invasor alienígena.', 0, 20),
(21, '1564-04-23', 'Drama', 'As lutas e os amores de personagens em Verona.', 1, 21),
(22, '1820-11-01', 'Filosofia', 'A análise de uma sociedade dividida entre a razão e a emoção.', 1, 22),
(23, '1953-08-01', 'Ficção Científica', 'O futuro em que o controle social se torna um pesadelo.', 0, 23),
(24, '1940-09-21', 'Ficção Científica', 'O enredo explora o futuro da tecnologia e da inteligência artificial.', 1, 24),
(25, '1897-04-30', 'Terror', 'A história de um vampiro que seduz e destrói vidas.', 1, 25),
(26, '1939-09-01', 'Romance', 'Uma história de amor durante a Segunda Guerra Mundial.', 1, 26),
(27, '1961-03-15', 'Ficção Científica', 'Uma análise das consequências da manipulação genética.', 1, 27),
(28, '2003-01-01', 'Terror', 'O suspense de um assombro que se apodera de uma pequena cidade.', 1, 28),
(29, '1969-07-01', 'Mistério', 'A busca por um tesouro perdido em uma ilha remota.', 1, 29),
(30, '1984-09-20', 'Ficção Científica', 'O futuro distópico em que o Estado controla todos os aspectos da vida.', 1, 30),
(31, '1971-06-06', 'Romance', 'O retrato de um amor que transcende o tempo e o espaço.', 0, 31),
(32, '2010-11-01', 'Aventura', 'Uma expedição a um planeta distante em busca de novas formas de vida.', 1, 32),
(33, '1981-08-15', 'Mistério', 'O assassinato de uma figura pública e as investigações subsequentes.', 1, 33),
(34, '1958-02-12', 'Suspense', 'A trama que segue a fuga de um criminoso em uma cidade enigmática.', 0, 34),
(35, '2009-09-11', 'Fantasia', 'A história de um mago que deve salvar o mundo das trevas.', 1, 35),
(36, '1990-11-22', 'Romance', 'Dois jovens apaixonados tentando encontrar seu lugar no mundo.', 0, 36),
(37, '2006-05-10', 'Fantasia', 'Uma guerra mágica entre dois reinos rivais pelo controle do destino.', 1, 37),
(38, '2015-07-20', 'Aventura', 'A busca por uma ilha secreta onde um mistério antigo aguarda.', 1, 38),
(39, '2018-04-12', 'Ficção Científica', 'A luta pela sobrevivência em um mundo pós-apocalíptico.', 1, 39),
(40, '2020-12-10', 'Romance', 'A história de um amor entre duas pessoas de mundos diferentes.', 0, 40);

INSERT INTO emprestimo (id_emprestimo, data_emprestimo, data_dev_prev, data_dev_real, status_emprestimo, usuario_id_usuario, reservas_id_reservas, livro_id_livro) VALUES
(1, '2025-01-10', '2025-01-20', '2025-01-18', 1, 1, 1, 1),
(2, '2025-02-12', '2025-02-22', NULL, 0, 2, 2, 2),
(3, '2025-03-05', '2025-03-15', '2025-03-10', 1, 3, 3, 3),
(4, '2025-04-17', '2025-04-27', NULL, 0, 4, 4, 4),
(5, '2025-05-22', '2025-06-01', '2025-05-30', 1, 5, 5, 5),
(6, '2025-06-05', '2025-06-15', NULL, 0, 6, 6, 6),
(7, '2025-07-08', '2025-07-18', '2025-07-15', 1, 7, 7, 7),
(8, '2025-08-03', '2025-08-13', NULL, 0, 8, 8, 8),
(9, '2025-09-10', '2025-09-20', '2025-09-18', 1, 9, 9, 9),
(10, '2025-10-01', '2025-10-11', NULL, 0, 10, 10, 10),
(11, '2025-11-07', '2025-11-17', '2025-11-15', 1, 11, 11, 11),
(12, '2025-12-12', '2025-12-22', NULL, 0, 12, 12, 12),
(13, '2025-01-25', '2025-02-04', '2025-02-02', 1, 13, 13, 13),
(14, '2025-02-22', '2025-03-04', NULL, 0, 14, 14, 14),
(15, '2025-03-28', '2025-04-07', '2025-04-05', 1, 15, 15, 15),
(16, '2025-04-02', '2025-04-12', NULL, 0, 16, 16, 16),
(17, '2025-05-18', '2025-05-28', '2025-05-25', 1, 17, 17, 17),
(18, '2025-06-10', '2025-06-20', NULL, 0, 18, 18, 18),
(19, '2025-07-15', '2025-07-25', '2025-07-23', 1, 19, 19, 19),
(20, '2025-08-01', '2025-08-11', NULL, 0, 20, 20, 20),
(21, '2025-09-18', '2025-09-28', '2025-09-26', 1, 21, 21, 21),
(22, '2025-10-10', '2025-10-20', NULL, 0, 22, 22, 22),
(23, '2025-11-15', '2025-11-25', '2025-11-22', 1, 23, 23, 23),
(24, '2025-12-05', '2025-12-15', NULL, 0, 24, 24, 24),
(25, '2025-01-30', '2025-02-09', '2025-02-07', 1, 25, 25, 25),
(26, '2025-02-12', '2025-02-22', NULL, 0, 26, 26, 26),
(27, '2025-03-11', '2025-03-21', '2025-03-18', 1, 27, 27, 27),
(28, '2025-04-05', '2025-04-15', NULL, 0, 28, 28, 28),
(29, '2025-05-17', '2025-05-27', '2025-05-24', 1, 29, 29, 29),
(30, '2025-06-06', '2025-06-16', NULL, 0, 30, 30, 30),
(31, '2025-07-01', '2025-07-11', '2025-07-08', 1, 31, 31, 31),
(32, '2025-08-04', '2025-08-14', NULL, 0, 32, 32, 32),
(33, '2025-09-12', '2025-09-22', '2025-09-19', 1, 33, 33, 33),
(34, '2025-10-08', '2025-10-18', NULL, 0, 34, 34, 34),
(35, '2025-11-25', '2025-12-05', '2025-12-02', 1, 35, 35, 35),
(36, '2025-12-02', '2025-12-12', NULL, 0, 36, 36, 36),
(37, '2025-01-10', '2025-01-20', '2025-01-18', 1, 37, 37, 37),
(38, '2025-02-25', '2025-03-07', NULL, 0, 38, 38, 38),
(39, '2025-03-15', '2025-03-25', '2025-03-22', 1, 39, 39, 39),
(40, '2025-04-05', '2025-04-15', NULL, 0, 40, 40, 40);

